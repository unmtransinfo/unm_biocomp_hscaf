<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_21) on Fri May 31 10:27:57 MDT 2013 -->
<title>ScaffoldDB (hscaf API)</title>
<meta name="date" content="2013-05-31">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ScaffoldDB (hscaf API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../edu/unm/health/biocomp/hscaf/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ScaffoldDB.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../edu/unm/health/biocomp/hscaf/Scaffold.html" title="class in edu.unm.health.biocomp.hscaf"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldEntity.html" title="class in edu.unm.health.biocomp.hscaf"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?edu/unm/health/biocomp/hscaf/ScaffoldDB.html" target="_top">Frames</a></li>
<li><a href="ScaffoldDB.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">edu.unm.health.biocomp.hscaf</div>
<h2 title="Class ScaffoldDB" class="title">Class ScaffoldDB</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>Object</li>
<li>
<ul class="inheritance">
<li>ScaffoldDB</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">ScaffoldDB</span>
extends Object</pre>
<div class="block">Provides persistent scaffold storage via standard RDB.
        For large jobs this avoids memory limits and improves performance by
        storing solved scaffolds for rapid lookup and avoiding re-calculation.
        <br />
        An additional benefit of DB usage is paralellization, since
        separate processes can concurrently read and write to the same
        scaffold database by locking and unlocking records.
        <br />
        Minimal, standard RDB features required; no chemical cartridge used,
        smiles canonicalization by client.
        <br />
        PostgreSQL supported only.  Maybe should use another layer to be database
        agnostic (support MySql, etc).
        <br /></div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Jeremy J Yang</dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldRecord.html" title="class in edu.unm.health.biocomp.hscaf"><code>ScaffoldRecord</code></a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldDB.html#ScaffoldDB(java.lang.String, int, java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.Boolean, java.lang.Boolean, java.lang.Boolean)">ScaffoldDB</a></strong>(String&nbsp;host,
          int&nbsp;port,
          String&nbsp;name,
          String&nbsp;schema,
          String&nbsp;usr,
          String&nbsp;pw,
          String&nbsp;tableprefix,
          Boolean&nbsp;stereo,
          Boolean&nbsp;keep_nitro_attachments,
          Boolean&nbsp;create_new)</code>
<div class="block">Constructor creates or opens existing database at location specified.<br/></div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldDB.html#addScaffold(edu.unm.health.biocomp.hscaf.ScaffoldRecord)">addScaffold</a></strong>(<a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldRecord.html" title="class in edu.unm.health.biocomp.hscaf">ScaffoldRecord</a>&nbsp;scafrec)</code>
<div class="block">Write <a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldRecord.html" title="class in edu.unm.health.biocomp.hscaf"><code>ScaffoldRecord</code></a> to database.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldDB.html#checkValid()">checkValid</a></strong>()</code>
<div class="block">Minimal sanity check whether DB exists, is accessible and valid schema.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldDB.html#close()">close</a></strong>()</code>
<div class="block">Close database.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldDB.html#containsScaffoldByCansmi(java.lang.String)">containsScaffoldByCansmi</a></strong>(String&nbsp;cansmi)</code>
<div class="block">Check whether scaffold specified by canonical smiles is in database.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldDB.html#containsScaffoldByID(java.lang.Long)">containsScaffoldByID</a></strong>(Long&nbsp;id)</code>
<div class="block">Check whether specified ID is in database.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldDB.html#containsScaffoldBySmiles(java.lang.String)">containsScaffoldBySmiles</a></strong>(String&nbsp;smi)</code>
<div class="block">Check whether scaffold specified by smiles is in database.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldDB.html#count()">count</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldDB.html#destroyDB()">destroyDB</a></strong>()</code>
<div class="block">Destroy databases.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldDB.html#dumpToFile(java.io.File, int)">dumpToFile</a></strong>(File&nbsp;fout,
          int&nbsp;verbose)</code>
<div class="block">Dump all scaffolds in this ScaffoldDB to file; format is 
        legal smiles file and normal hier_scaffolds output:
        (SMILES ID SCAFTREE).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>Connection</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldDB.html#getDBConnection()">getDBConnection</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>String</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldDB.html#getDBHost()">getDBHost</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>String</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldDB.html#getDBName()">getDBName</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldDB.html#getDBPort()">getDBPort</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>String</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldDB.html#getDBSchema()">getDBSchema</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>String</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldDB.html#getDBTableprefix()">getDBTableprefix</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>String</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldDB.html#getDBUser()">getDBUser</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldRecord.html" title="class in edu.unm.health.biocomp.hscaf">ScaffoldRecord</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldDB.html#getScaffoldByCansmi(java.lang.String)">getScaffoldByCansmi</a></strong>(String&nbsp;cansmi)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldRecord.html" title="class in edu.unm.health.biocomp.hscaf">ScaffoldRecord</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldDB.html#getScaffoldByID(long)">getScaffoldByID</a></strong>(long&nbsp;id)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldRecord.html" title="class in edu.unm.health.biocomp.hscaf">ScaffoldRecord</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldDB.html#getScaffoldBySmiles(java.lang.String)">getScaffoldBySmiles</a></strong>(String&nbsp;smi)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>String</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldDB.html#getScaffoldString(edu.unm.health.biocomp.hscaf.ScaffoldRecord)">getScaffoldString</a></strong>(<a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldRecord.html" title="class in edu.unm.health.biocomp.hscaf">ScaffoldRecord</a>&nbsp;scafrec)</code>
<div class="block">Generates string representing the hierarchical scaffold sub tree
        rooted by this scaffold.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>String</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldDB.html#info()">info</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>Boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldDB.html#isKeep_nitro_attachments()">isKeep_nitro_attachments</a></strong>()</code>
<div class="block">Is keep_nitro_attachments flag on for scaffolds in this ScaffoldDB.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>Boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldDB.html#isStereo()">isStereo</a></strong>()</code>
<div class="block">Is stereo flag on for scaffolds in this ScaffoldDB.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldDB.html#main(java.lang.String[])">main</a></strong>(String[]&nbsp;args)</code>
<div class="block">For testing only.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldDB.html#mergeScaffoldTree(edu.unm.health.biocomp.hscaf.Scaffold)">mergeScaffoldTree</a></strong>(<a href="../../../../../edu/unm/health/biocomp/hscaf/Scaffold.html" title="class in edu.unm.health.biocomp.hscaf">Scaffold</a>&nbsp;scaf)</code>
<div class="block">Merges a fully populated ScaffoldTree defined by the Scaffold
        argument with the ScaffoldDB.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldDB.html#populateScaffoldTree(edu.unm.health.biocomp.hscaf.Scaffold)">populateScaffoldTree</a></strong>(<a href="../../../../../edu/unm/health/biocomp/hscaf/Scaffold.html" title="class in edu.unm.health.biocomp.hscaf">Scaffold</a>&nbsp;scaf)</code>
<div class="block">Populates an incomplete ScaffoldTree from known root Scaffold.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldDB.html#reindex()">reindex</a></strong>()</code>
<div class="block">Re-index modified tables periodically for faster response.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldDB.html#removeAll()">removeAll</a></strong>()</code>
<div class="block">Delete all data from scaffold databases.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldDB.html#scaffoldCansmi2ID(java.lang.String)">scaffoldCansmi2ID</a></strong>(String&nbsp;cansmi)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldDB.html#updateScaffoldByID(edu.unm.health.biocomp.hscaf.ScaffoldRecord)">updateScaffoldByID</a></strong>(<a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldRecord.html" title="class in edu.unm.health.biocomp.hscaf">ScaffoldRecord</a>&nbsp;scafrec)</code>
<div class="block">Update database with revised <a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldRecord.html" title="class in edu.unm.health.biocomp.hscaf"><code>ScaffoldRecord</code></a>,
        matched by ID.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ScaffoldDB(java.lang.String, int, java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.Boolean, java.lang.Boolean, java.lang.Boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ScaffoldDB</h4>
<pre>public&nbsp;ScaffoldDB(String&nbsp;host,
          int&nbsp;port,
          String&nbsp;name,
          String&nbsp;schema,
          String&nbsp;usr,
          String&nbsp;pw,
          String&nbsp;tableprefix,
          Boolean&nbsp;stereo,
          Boolean&nbsp;keep_nitro_attachments,
          Boolean&nbsp;create_new)
           throws SQLException</pre>
<div class="block">Constructor creates or opens existing database at location specified.<br/>
        <p>
        <code>CREATE SCHEMA IF NOT EXISTS <i>DBSCHEMA</i><br/>
        Schema:<br />
        <code>CREATE TABLE <i>DBSCHEMA.DBTABLEPREFIX</i>scaffold (<br/>
        &nbsp;  id INTEGER PRIMARY KEY,<br/>
        &nbsp;  scafsmi VARCHAR(512) NOT NULL,<br/>
        &nbsp;  scaftree VARCHAR(2048))<br/>
        <br />
        CREATE TABLE <i>DBSCHEMA.DBTABLEPREFIX</i>scaf2scaf (<br/>
        &nbsp;  parent_id INTEGER,<br/>
        &nbsp;  child_id INTEGER )<br/>
        </code></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>host</code> - database host</dd><dd><code>port</code> - database port</dd><dd><code>name</code> - database name</dd><dd><code>schema</code> - database schema</dd><dd><code>usr</code> - database connection user</dd><dd><code>pw</code> - database connection password</dd><dd><code>tableprefix</code> - database table name prefix</dd><dd><code>stereo</code> - flag, whether scaffolds are stereo</dd><dd><code>keep_nitro_attachments</code> - flag, whether to keep nitrogens on rings</dd><dd><code>create_new</code> - flag indicating whether to create new database</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>SQLException</code></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getDBHost()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDBHost</h4>
<pre>public&nbsp;String&nbsp;getDBHost()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>host for database</dd></dl>
</li>
</ul>
<a name="getDBName()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDBName</h4>
<pre>public&nbsp;String&nbsp;getDBName()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>name for database</dd></dl>
</li>
</ul>
<a name="getDBSchema()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDBSchema</h4>
<pre>public&nbsp;String&nbsp;getDBSchema()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>schema for database</dd></dl>
</li>
</ul>
<a name="getDBUser()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDBUser</h4>
<pre>public&nbsp;String&nbsp;getDBUser()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>user for database connection</dd></dl>
</li>
</ul>
<a name="getDBPort()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDBPort</h4>
<pre>public&nbsp;int&nbsp;getDBPort()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>port for database connection</dd></dl>
</li>
</ul>
<a name="getDBTableprefix()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDBTableprefix</h4>
<pre>public&nbsp;String&nbsp;getDBTableprefix()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>table prefix for database</dd></dl>
</li>
</ul>
<a name="getDBConnection()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDBConnection</h4>
<pre>public&nbsp;Connection&nbsp;getDBConnection()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>Connection for database</dd></dl>
</li>
</ul>
<a name="reindex()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reindex</h4>
<pre>public&nbsp;boolean&nbsp;reindex()
                throws SQLException</pre>
<div class="block">Re-index modified tables periodically for faster response.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>SQLException</code></dd></dl>
</li>
</ul>
<a name="checkValid()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkValid</h4>
<pre>public&nbsp;boolean&nbsp;checkValid()
                   throws SQLException</pre>
<div class="block">Minimal sanity check whether DB exists, is accessible and valid schema.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>SQLException</code></dd></dl>
</li>
</ul>
<a name="count()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>count</h4>
<pre>public&nbsp;long&nbsp;count()
           throws SQLException</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>number of scaffolds in ScaffoldDB</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>SQLException</code></dd></dl>
</li>
</ul>
<a name="info()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>info</h4>
<pre>public&nbsp;String&nbsp;info()
            throws SQLException</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>information about contents of ScaffoldDB</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>SQLException</code></dd></dl>
</li>
</ul>
<a name="getScaffoldByID(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getScaffoldByID</h4>
<pre>public&nbsp;<a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldRecord.html" title="class in edu.unm.health.biocomp.hscaf">ScaffoldRecord</a>&nbsp;getScaffoldByID(long&nbsp;id)
                               throws SQLException</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>id</code> - scaffold ID</dd>
<dt><span class="strong">Returns:</span></dt><dd><a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldRecord.html" title="class in edu.unm.health.biocomp.hscaf"><code>ScaffoldRecord</code></a> for specified scaffold ID</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>SQLException</code></dd></dl>
</li>
</ul>
<a name="getScaffoldBySmiles(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getScaffoldBySmiles</h4>
<pre>public&nbsp;<a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldRecord.html" title="class in edu.unm.health.biocomp.hscaf">ScaffoldRecord</a>&nbsp;getScaffoldBySmiles(String&nbsp;smi)
                                   throws SQLException,
                                          MolFormatException,
                                          IOException</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>smi</code> - scaffold SMILES</dd>
<dt><span class="strong">Returns:</span></dt><dd><a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldRecord.html" title="class in edu.unm.health.biocomp.hscaf"><code>ScaffoldRecord</code></a> for specified smiles</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>SQLException</code></dd>
<dd><code>MolFormatException</code></dd>
<dd><code>IOException</code></dd></dl>
</li>
</ul>
<a name="getScaffoldByCansmi(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getScaffoldByCansmi</h4>
<pre>public&nbsp;<a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldRecord.html" title="class in edu.unm.health.biocomp.hscaf">ScaffoldRecord</a>&nbsp;getScaffoldByCansmi(String&nbsp;cansmi)
                                   throws SQLException,
                                          MolFormatException,
                                          IOException</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>cansmi</code> - scaffold SMILES, already canonical</dd>
<dt><span class="strong">Returns:</span></dt><dd><a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldRecord.html" title="class in edu.unm.health.biocomp.hscaf"><code>ScaffoldRecord</code></a> for specified smiles</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>SQLException</code></dd>
<dd><code>MolFormatException</code></dd>
<dd><code>IOException</code></dd></dl>
</li>
</ul>
<a name="containsScaffoldByID(java.lang.Long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>containsScaffoldByID</h4>
<pre>public&nbsp;boolean&nbsp;containsScaffoldByID(Long&nbsp;id)
                             throws SQLException</pre>
<div class="block">Check whether specified ID is in database.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>SQLException</code></dd></dl>
</li>
</ul>
<a name="containsScaffoldBySmiles(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>containsScaffoldBySmiles</h4>
<pre>public&nbsp;boolean&nbsp;containsScaffoldBySmiles(String&nbsp;smi)
                                 throws SQLException,
                                        MolFormatException,
                                        IOException</pre>
<div class="block">Check whether scaffold specified by smiles is in database.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>smi</code> - scaffold SMILES</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>SQLException</code></dd>
<dd><code>MolFormatException</code></dd>
<dd><code>IOException</code></dd></dl>
</li>
</ul>
<a name="containsScaffoldByCansmi(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>containsScaffoldByCansmi</h4>
<pre>public&nbsp;boolean&nbsp;containsScaffoldByCansmi(String&nbsp;cansmi)
                                 throws SQLException</pre>
<div class="block">Check whether scaffold specified by canonical smiles is in database.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>cansmi</code> - scaffold canonical SMILES</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>SQLException</code></dd></dl>
</li>
</ul>
<a name="scaffoldCansmi2ID(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>scaffoldCansmi2ID</h4>
<pre>public&nbsp;long&nbsp;scaffoldCansmi2ID(String&nbsp;cansmi)
                       throws SQLException</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>cansmi</code> - scaffold canonical SMILES</dd>
<dt><span class="strong">Returns:</span></dt><dd>scaffold ID specified by canonical smiles</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>SQLException</code></dd></dl>
</li>
</ul>
<a name="addScaffold(edu.unm.health.biocomp.hscaf.ScaffoldRecord)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addScaffold</h4>
<pre>public&nbsp;boolean&nbsp;addScaffold(<a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldRecord.html" title="class in edu.unm.health.biocomp.hscaf">ScaffoldRecord</a>&nbsp;scafrec)
                    throws SQLException</pre>
<div class="block">Write <a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldRecord.html" title="class in edu.unm.health.biocomp.hscaf"><code>ScaffoldRecord</code></a> to database.
        Should assure scaffold not already known.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>SQLException</code></dd></dl>
</li>
</ul>
<a name="updateScaffoldByID(edu.unm.health.biocomp.hscaf.ScaffoldRecord)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateScaffoldByID</h4>
<pre>public&nbsp;boolean&nbsp;updateScaffoldByID(<a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldRecord.html" title="class in edu.unm.health.biocomp.hscaf">ScaffoldRecord</a>&nbsp;scafrec)
                           throws SQLException</pre>
<div class="block">Update database with revised <a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldRecord.html" title="class in edu.unm.health.biocomp.hscaf"><code>ScaffoldRecord</code></a>,
        matched by ID.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>scafrec</code> - revised <a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldRecord.html" title="class in edu.unm.health.biocomp.hscaf"><code>ScaffoldRecord</code></a> with pre-existing ID</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>SQLException</code></dd></dl>
</li>
</ul>
<a name="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()
           throws SQLException</pre>
<div class="block">Close database.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>SQLException</code></dd></dl>
</li>
</ul>
<a name="removeAll()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeAll</h4>
<pre>public&nbsp;void&nbsp;removeAll()
               throws SQLException</pre>
<div class="block">Delete all data from scaffold databases.  Tables and schema remain.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>SQLException</code></dd></dl>
</li>
</ul>
<a name="destroyDB()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>destroyDB</h4>
<pre>public&nbsp;void&nbsp;destroyDB()
               throws SQLException</pre>
<div class="block">Destroy databases.  Tables are dropped (not schema).</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>SQLException</code></dd></dl>
</li>
</ul>
<a name="mergeScaffoldTree(edu.unm.health.biocomp.hscaf.Scaffold)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mergeScaffoldTree</h4>
<pre>public&nbsp;int&nbsp;mergeScaffoldTree(<a href="../../../../../edu/unm/health/biocomp/hscaf/Scaffold.html" title="class in edu.unm.health.biocomp.hscaf">Scaffold</a>&nbsp;scaf)
                      throws SQLException</pre>
<div class="block">Merges a fully populated ScaffoldTree defined by the Scaffold
        argument with the ScaffoldDB.  

        New scaffolds are assigned new IDs.  Existing scaffolds are
        recognized as such.  Initially called with new root scaffold,
        then recursively.  For each call, process all immediate child
        scaffolds, then assign ChildIDs and ParentID to ScaffoldRecord.

        Note that a new unknown parent may have known and/or new child scaffolds.       
        Hence this recursive method must handle the known-scaffold case.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>SQLException</code></dd></dl>
</li>
</ul>
<a name="populateScaffoldTree(edu.unm.health.biocomp.hscaf.Scaffold)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>populateScaffoldTree</h4>
<pre>public&nbsp;int&nbsp;populateScaffoldTree(<a href="../../../../../edu/unm/health/biocomp/hscaf/Scaffold.html" title="class in edu.unm.health.biocomp.hscaf">Scaffold</a>&nbsp;scaf)
                         throws SQLException</pre>
<div class="block">Populates an incomplete ScaffoldTree from known root Scaffold.
        Note that since root scaffold is known, all child scaffolds must also
        be known.

        For known scaffold, obtain ID from store, and find child scaffolds
        in store to populate ScaffoldTree.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>SQLException</code></dd></dl>
</li>
</ul>
<a name="getScaffoldString(edu.unm.health.biocomp.hscaf.ScaffoldRecord)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getScaffoldString</h4>
<pre>public&nbsp;String&nbsp;getScaffoldString(<a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldRecord.html" title="class in edu.unm.health.biocomp.hscaf">ScaffoldRecord</a>&nbsp;scafrec)
                         throws SQLException</pre>
<div class="block">Generates string representing the hierarchical scaffold sub tree
        rooted by this scaffold. Same format as Scaffold.subTreeAsString().
        e.g. "1:(2,3)" or "1:(2:(3,4,5),6:(4,7))"</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>SQLException</code></dd></dl>
</li>
</ul>
<a name="isStereo()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isStereo</h4>
<pre>public&nbsp;Boolean&nbsp;isStereo()</pre>
<div class="block">Is stereo flag on for scaffolds in this ScaffoldDB.</div>
</li>
</ul>
<a name="isKeep_nitro_attachments()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isKeep_nitro_attachments</h4>
<pre>public&nbsp;Boolean&nbsp;isKeep_nitro_attachments()</pre>
<div class="block">Is keep_nitro_attachments flag on for scaffolds in this ScaffoldDB.</div>
</li>
</ul>
<a name="dumpToFile(java.io.File, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dumpToFile</h4>
<pre>public&nbsp;long&nbsp;dumpToFile(File&nbsp;fout,
              int&nbsp;verbose)
                throws IOException,
                       SQLException</pre>
<div class="block">Dump all scaffolds in this ScaffoldDB to file; format is 
        legal smiles file and normal hier_scaffolds output:
        (SMILES ID SCAFTREE).</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>number of scaffolds written</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>IOException</code></dd>
<dd><code>SQLException</code></dd></dl>
</li>
</ul>
<a name="main(java.lang.String[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>main</h4>
<pre>public static&nbsp;void&nbsp;main(String[]&nbsp;args)</pre>
<div class="block">For testing only.
        <br/>
        CREATE ROLE www WITH LOGIN PASSWORD 'foobar';
        GRANT CONNECT ON DATABASE mydb TO www ;
        GRANT CREATE ON DATABASE mydb TO www ;
        (Then use schema "public".)</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../edu/unm/health/biocomp/hscaf/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ScaffoldDB.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../edu/unm/health/biocomp/hscaf/Scaffold.html" title="class in edu.unm.health.biocomp.hscaf"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../edu/unm/health/biocomp/hscaf/ScaffoldEntity.html" title="class in edu.unm.health.biocomp.hscaf"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?edu/unm/health/biocomp/hscaf/ScaffoldDB.html" target="_top">Frames</a></li>
<li><a href="ScaffoldDB.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><I>Copyright &#169; 2013, University of New Mexico Translational Informatics Division</I></small></p>
</body>
</html>
